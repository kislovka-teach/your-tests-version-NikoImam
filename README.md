**Особенности работы**:
- Правильно описана модель БД - до 2 баллов
- Правильно сформированы миграции и настроены ограничения - до 3 баллов
- Правильно реализована авторизация и аутентификация - до 2 баллов
- Выполнены все методы API со всей логикой - до 5 баллов
- Сделаны репозитории под нужные модели - до 3 баллов

Итого 15 баллов.

**Подсказки**:
- Сначала создайте модели БД
- Идентификаторы не указаны, необходимо понять связи исходя из контекста и добавлять их по мере необходимости
- Создайте модели запросов и ответов если они отличны от моделей БД
- Опишите DbContext и создайте миграции
- Создайте интерфейсы сервисов и репозиториев
- Реализуйте аутентификацию и авторизацию
- Реализуйте интерфейсы 
- Опишите методы API  
- Для всех вариантов обязательное требование - использовать метод HasData в DbContext чтобы вручную создать несколько записей в БД которые будут отправной точкой для тестирования (и вам удобно и мне при проверке)
- Можно делать несколько последовательных миграций (например сначала сделать пользователя и миграцию с ним, реализовать авторизацию, а потом заняться остальными сущностями)

# Вариант 1
## API онлайн-магазина чая
**Модели**:

_Чай_:
- Название
- Сорт (зелёный, чёрный, цветочный, белый)
- Страна выращивания

_Товар_:
- Чай
- Тип (в пакетиках, весовой)
- Объём (кол-во для пакетиков, вес для весового)
- Производитель
- Кол-во в наличии
- Цена
- Список отзывов

_Заказ_:
- Товар
- Объём заказа (кол-во единиц товара)
- Итоговая цена
- Статус (в сборке, ожидает оплаты, ожидает получения, выдан)
- Заказчик

_Отзыв_:
- Текст отзыва
- Оценка (0-5 звёзд)

_Пользователь_:
- Логин
- Пароль
- Роль

**Методы API**:
1. `/login` — Проверяются логин и пароль, и если все успешно, то используется авторизация через куки и проставляется роль из БД. Для тестирования вручную добавьте примеры пользователей через HasData в DbContext.
2. `/tea/add` — Добавить чай. Выполняется пользователем с ролью `admin`
3. `/product/add` — Добавить товар (указывается добавляемое количество). Выполняется если у пользователя роль `admin`
4. `/product/all` — Вывести список всех товаров в виде (чай, тип, объём, цена)
5. `/order/add` — Оформляется заказ пользователем (роль `user`)
6. `/order/{id}/review/add` — Создаётся отзыв на товар пользователем, если товар был получен им(роль `user`)
7. `/order/{id}/setstatus` — Изменяется статус заказа пользователем с ролью `admin`
8. `/order/{id}/pay` — Оплачивается заказ пользователем (роль `user`), меняется статус заказа

**Особенности реализации**:
- Аутентификация и авторизация производится в сервисе пользователя, в случае отсутствия аутентификации выбрасывать код ошибки авторизации
- Модели запроса и результата запроса могут отличаться от моделей БД
- Логика добавления чая производится в сервисе чаёв
- Логика добавления товара производится в сервисе товара
- Логика создания заказа, оплаты, изменения его статуса производится в сервисе заказа
- Кол-во товара должно увеличиваться/уменьшаться при добавлении/продаже соответственно

# Вариант 2
## API соц.сети автомобилистов (аналог Drive2)
**Модели**:

_Модель автомобиля_:
- Марка
- Модель

_Автомобиль_:
- Модель
- Год производства
- Цвет
- Тип силовой установки (ДВС, электро, гибрид)
- Мощность силовой установки

_Статья_:
- Заголовок
- Автомобиль (статья про один из автомобилей пользователя)
- Тема (ремонт, история, покупка запчастей и т.д.)
- Текст статьи
- Дата добавления
- Автор
- Комментарии
- Скольким пользователям понравилась статья (голосование)

_Комментарий_:
- Текст комментария

_Пользователь_:
- Логин
- Пароль
- Роль

**Методы API**:
1. `/login` — Аутентификация и авторизация пользователя по логину и паролю. Производится через JWT токен и привязкой роли в токене
2. `/model/add` — Добавление модели + марки автомобиля в БД. Выполняется пользователем-`admin`
3. `/car/add` — Добавление собственного автомобиля. Выполняется авторизованным пользователем-`user`
4. `/article/add` — Добавление статьи. Выполняется авторизованным пользователем-`user`
5. `/article/{id}` — Выводится статья с Id=`id` (вся информация)
6. `/article/all` — Выводится список всех статей (заголовок, автомобиль, тема, автор, текст)
7. `/article/top?{count}` — Выводится список первых `count` популярных (по кол-ву голосов) статей
8. `/article/{id}/comment/add` — Добавляется комментарий к статье с Id=`id` авторизованным пользователем
9. `/article/{id}/vote` — Проголосовать за статью. Автор не может поставить самолайк

**Особенности реализации**:
- Аутентификация и авторизация производится в сервисе пользователя в случае отсутствия аутентификации выбрасывать код ошибки авторизации
- При создании jwt токена параметры issuer, audience можно оставить как пустые строки и не проверять их
- Работа со статьями в отдельном сервисе
- При добавлении статей, комментариев, голосов идентификатор пользователя берется из токена
